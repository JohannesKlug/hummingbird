<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context"
	xsi:schemaLocation="
       http://www.springframework.org/schema/beans 
       http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
       http://www.springframework.org/schema/context 
       http://www.springframework.org/schema/context/spring-context-2.5.xsd
       http://camel.apache.org/schema/spring 
       http://camel.apache.org/schema/spring/camel-spring.xsd">



<!-- This assembly defines a shared limit, i.e. a limit that is used by two parameters. -->


	<context:annotation-config />


	<bean id="UpperLimitShared" class="org.hbird.business.validation.parameter.UpperLimit">
		<constructor-arg index="0" value="UpperLimitWarningState"/>
		<constructor-arg index="1" value="Lower limit for parameter that is intended as a WARNING"/>
		<constructor-arg index="2" value="3"/>
	</bean> 

	<routeContext id="parameter5Routes" xmlns="http://camel.apache.org/schema/spring">

		<!-- Route to calculate the WARNING Lower limit of parameter 3 -->
		<route>
			<from uri="direct:startParameter5"/>
			<to uri="bean:UpperLimitShared?method=processParameter"/>
			<to uri="mock:result"/>
		</route>

		<!-- Route to calculate the ERROR Lower limit of parameter 3 -->
		<route>
			<from uri="direct:startParameter6"/>
			<to uri="bean:UpperLimitShared?method=processParameter"/>
			<to uri="mock:result"/>
		</route>

	</routeContext>
</beans>
