<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context"
	xsi:schemaLocation="
       http://www.springframework.org/schema/beans 
       http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
       http://www.springframework.org/schema/context 
       http://www.springframework.org/schema/context/spring-context-2.5.xsd
       http://camel.apache.org/schema/spring 
       http://camel.apache.org/schema/spring/camel-spring.xsd">



<!-- This assembly defines three upper limits for a parameter and no lower limit. The limits cannot
     be enabled / disabled, nor can they be changed dynamically. -->


	<context:annotation-config />


	<bean id="UpperLimitWarning" class="org.hbird.business.validation.parameter.UpperLimit">
		<constructor-arg index="0" value="UpperLimitWarningState"/>
		<constructor-arg index="1" value="Upper limit for parameter that is intended as a WARNING"/>
		<constructor-arg index="2" value="3"/>
	</bean> 

	<bean id="UpperLimitError" class="org.hbird.business.validation.parameter.UpperLimit">
		<constructor-arg index="0" value="UpperLimitErrorState"/>
		<constructor-arg index="1" value="Upper limit for parameter that is intended as an ERROR."/>
		<constructor-arg index="2" value="5"/>
	</bean> 

	<bean id="UpperLimitFatal" class="org.hbird.business.validation.parameter.UpperLimit">
		<constructor-arg index="0" value="UpperLimitFatalState"/>
		<constructor-arg index="1" value="Upper limit for parameter that is intended as a FATAL."/>
		<constructor-arg index="2" value="10"/>
	</bean> 

	<routeContext id="parameter3Routes" xmlns="http://camel.apache.org/schema/spring">

		<!-- Route to calculate the WARNING upper limit of parameter 3 -->
		<route>
			<from uri="direct:startParameter3UpperLimitWarning"/>
			<to uri="bean:UpperLimitWarning?method=processParameter"/>
			<to uri="mock:result"/>
		</route>

		<!-- Route to calculate the ERROR upper limit of parameter 3 -->
		<route>
			<from uri="direct:startParameter3UpperLimitError"/>
			<to uri="bean:UpperLimitError?method=processParameter"/>
			<to uri="mock:result"/>
		</route>

		<!-- Route to calculate the FATAL upper limit of parameter 3 -->
		<route>
			<from uri="direct:startParameter3UpperLimitFatal"/>
			<to uri="bean:UpperLimitFatal?method=processParameter"/>
			<to uri="mock:result"/>
		</route>

	</routeContext>
</beans>
